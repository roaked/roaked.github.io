<!doctype html><html lang=en-us dir=ltr><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="System Identification: Analysis of AGV &ldquo;Rasteirinho&rdquo; Dynamic System # It was aimed to comprehensively analyze the behaviour of the dynamic system &ldquo;Rasteirinho,&rdquo; initially proposed for studying its &ldquo;control system&rdquo;. The primary objective was to discern the impact of specific inputs on the system&rsquo;s behaviour. To achieve this, real-time simulations were executed using Matlab and relevant toolboxes such as the System Identification Toolbox. These simulations allowed the acquisition of transfer functions employing diverse time and frequency-based methodologies."><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:title" content="AGV: System Identification"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://xsleaks.dev/docs/2code/6is/"><title>AGV: System Identification | Ricardo Chin</title>
<link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png><link rel=stylesheet href=/book.min.33a48f5432973b8ff9a82679d9e45d67f2c15d4399bd2829269455cfe390b5e8.css integrity="sha256-M6SPVDKXO4/5qCZ52eRdZ/LBXUOZvSgpJpRVz+OQteg=" crossorigin=anonymous><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-10WQY47KS2"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-10WQY47KS2",{anonymize_ip:!1})}</script><link rel=alternate type=application/rss+xml href=https://xsleaks.dev/docs/2code/6is/index.xml title="Ricardo Chin"></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>Ricardo Chin</span></a></h2><ul><li class=book-section-flat><a href=/docs/1design/>Design Portfolio</a><ul><li><a href=/docs/1design/1mest/>Structural Mechanics</a><ul></ul></li><li><a href=/docs/1design/2thermo/>ThermoCup</a><ul></ul></li><li><a href=/docs/1design/3pmec/>Mechanical Design</a><ul></ul></li><li><a href=/docs/1design/4mcomp/>FEM Formulation</a><ul></ul></li><li><a href=/docs/1design/5om/>Cylindrical Gear Train</a><ul></ul></li><li><a href=/docs/1design/6ebw/>Electron Beam Technology</a><ul></ul></li></ul></li><li class=book-section-flat><a href=/docs/2code/>Coding Portfolio</a><ul><li><a href=/docs/2code/1drone/>RedBull Racing Competition</a><ul><li><a href=/docs/2code/1drone/_index2/>Drone Dynamics</a></li><li><a href=/docs/2code/1drone/_index3/>Drone Controller Design Pt. 1</a></li><li><a href=/docs/2code/1drone/_index4/>Drone Controller Design Pt. 2</a></li><li><a href=/docs/2code/1drone/_index5/>Drone Computer Vision</a></li></ul></li><li><a href=/docs/2code/3si/>Deep Learning on Fake News</a><ul></ul></li><li><a href=/docs/2code/5od/>Evolutionary Computation</a><ul><li><a href=/docs/2code/5od/_index2/>Genetic Algorithm</a></li><li><a href=/docs/2code/5od/_index3/>Particle Swarm Optimization</a></li></ul></li><li><a href=/docs/2code/6is/ class=active>AGV: System Identification</a><ul></ul></li><li><a href=/docs/2code/7rm/>Manipulator Robotics: JACO</a><ul></ul></li><li><a href=/docs/2code/8au/>Industrial Automation</a><ul></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu>
</label><strong>AGV: System Identification</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#1-system-model>1 System Model</a><ul><li><a href=#11-rasteirinho>1.1. Rasteirinho</a></li><li><a href=#12-non-linearities>1.2. Non-linearities</a></li><li><a href=#13-sampling-time>1.3. Sampling Time</a></li></ul></li><li><a href=#2-deterministic-identification>2 Deterministic Identification</a><ul><li><a href=#21-step-response-method>2.1. Step Response Method</a></li><li><a href=#22-data-analysis-and-assessment>2.2. Data Analysis and Assessment</a></li></ul></li><li><a href=#3-stochastic-identification>3 Stochastic Identification</a></li></ul></nav></aside></header><article class=markdown><h1 id=system-identification-analysis-of-agv-rasteirinho-dynamic-system><strong>System Identification: Analysis of AGV &ldquo;Rasteirinho&rdquo; Dynamic System</strong>
<a class=anchor href=#system-identification-analysis-of-agv-rasteirinho-dynamic-system>#</a></h1><p><img src=https://live.staticflickr.com/65535/53353039340_0f9b1f0747_w.jpg alt=raster></p><p>It was aimed to comprehensively analyze the behaviour of the dynamic system &ldquo;Rasteirinho,&rdquo; initially proposed for studying its &ldquo;control system&rdquo;. The primary objective was to discern the impact of specific inputs on the system&rsquo;s behaviour. To achieve this, real-time simulations were executed using Matlab and relevant toolboxes such as the <a href=https://de.mathworks.com/help/ident/>System Identification Toolbox</a>. These simulations allowed the acquisition of transfer functions employing diverse time and frequency-based methodologies.</p><p>Subsequently, I would classify it in the following sections:</p><ul><li><p>Deterministic Systems Analysis: The preliminary focus was on deterministic systems, where a consistent input produced a predictable output. This phase provided foundational insights into the system&rsquo;s response under controlled and repeatable conditions.</p></li><li><p>Transition to Stochastic Systems: The investigation then progressed to stochastic systems, encompassing both continuous and discrete models. Contrary to deterministic systems, stochastic processes introduced unpredictability. Notably, experiments employing filtered white noise as input demonstrated varying reactions across iterations, emphasizing the inherent stochastic nature of the system.</p></li><li><p>Data Collection and Analysis: Data collected from these experiments formed the basis for analysis, leveraging a spectrum of methodologies and tools available in Matlab. The diverse approaches facilitated a comprehensive examination of the system&rsquo;s behavior under stochastic conditions.</p></li></ul><p>The discussions and conclusions drawn stem from the outcomes obtained through multiple analytical methods. The variability observed in stochastic systems prompted insightful considerations regarding the &ldquo;Rasteirinho&rdquo; system&rsquo;s behaviour and characteristics. How this variability impacts the overall understanding and analysis of the system becomes a pivotal point for consideration and further exploration.</p><p><strong>Recommendations for Future Study:</strong>
Further investigation into the implications of stochastic behaviour on control mechanisms within the &ldquo;Rasteirinho&rdquo; system could deepen our understanding. Exploring advanced analytical techniques and expanding the scope of experiments might offer more nuanced insights into the system&rsquo;s behaviour.</p><h2 id=1-system-model>1 System Model
<a class=anchor href=#1-system-model>#</a></h2><h3 id=11-rasteirinho>1.1. Rasteirinho
<a class=anchor href=#11-rasteirinho>#</a></h3><p>The primary function of the &ldquo;Rasteirinho&rdquo; system is autonomous navigation along a predefined path delineated by the black line on the floor. Through the coordinated operation of its components, the system employs sensor data from the camera, interprets it using the path-following algorithm, and generates control signals to the motors for precise movement, ensuring the system stays aligned with the designated path. The &ldquo;Rasteirinho&rdquo; system comprises several interconnected components designed for path tracking. At its core, it features:</p><ul><li><p>Laptop with Camera: The system&rsquo;s sensory input is facilitated by a laptop equipped with a camera. This camera serves as the primary sensor to capture visual data from the environment.</p></li><li><p>Base with Wheels: A base structure provides support for the components and houses wheels essential for locomotion.</p></li><li><p>Motors and Encoders: The system incorporates motors to drive the wheels, enabling controlled movement along the designated path. Encoders are utilized to measure and track wheel rotations, aiding in precise movement control and feedback.</p></li><li><p>Arduino Control: The Arduino platform serves as the control unit, orchestrating the interactions between the laptop, camera, motors, and encoders. It facilitates the integration of sensory information with control signals for effective navigation.</p></li><li><p>Path Following Algorithm: The system is programmed with a path-following algorithm that interprets visual data captured by the camera to detect and follow the black line on the floor. This algorithm involves image processing techniques to analyze the captured images and determine the correct path for the system to follow.</p></li></ul><p><img src=https://live.staticflickr.com/65535/53353039335_46c3f34277_z.jpg alt=meso></p><p>The system&rsquo;s purpose is rooted in exploring concepts of robotics, control systems, and computer vision. By combining hardware (motors, encoders, etc.) and software (path-following algorithms, image processing), it aims to demonstrate autonomous navigation capabilities and the integration of various technologies for a specific task—following a marked path.</p><h3 id=12-non-linearities>1.2. Non-linearities
<a class=anchor href=#12-non-linearities>#</a></h3><p>The input signal provided to the system is derived from the deviation of the system from the center of the marked line on the floor. This deviation is likely quantified as a distance in pixels from the center of the line, considering the image captured by the camera, which has a resolution of 160 pixels width-wise. The assumed center is positioned at pixel 80.</p><p>The output signal corresponds to the distance from the system to a specific part of the line, presumably the portion furthest to the left in the captured image. This output signal&rsquo;s measurement allows the system to gauge its position relative to this reference point along the line.</p><details><summary><strong>Description:</strong> Soft Non-linearities - (click to expand)</summary><div class=markdown-inner>Variations in lighting conditions, camera placement, angle, imperfections on the lab ground, and camera resolution introduce soft non-linearities to the system. These factors influence the system&rsquo;s behaviour and response but were approximated in the model without significantly compromising its accuracy. Managing these non-linearities involved calibration and adjustment techniques to mitigate their effects on the system&rsquo;s performance.</div></details><details><summary><strong>Description:</strong> Hard Non-linearities - (click to expand)</summary><div class=markdown-inner>The system encounters two hard non-linearities — namely, a dead zone and a saturation zone. These non-linearities stem from constraints related to the input voltage, resulting in minimum and maximum values. The dead zone represents a region where the input signal remains unresponsive or exhibits minimal response. On the other hand, the saturation zone indicates a limit where the system&rsquo;s response reaches its maximum capacity and remains constant despite further increases in the input signal.</div></details><h3 id=13-sampling-time>1.3. Sampling Time
<a class=anchor href=#13-sampling-time>#</a></h3><p>The chosen sampling time, Ts = 1/30 seconds (or approximately 33.33 milliseconds), aligns with the frame rate of 30 frames per second supported by the system&rsquo;s camera.</p><p>This sampling frequency translates to a corresponding angular frequency of 190.4 radians per second (rad/s). This frequency is deemed adequate for the system&rsquo;s dynamics, as it accommodates the characteristics and behaviour of the system, which likely doesn&rsquo;t exhibit high-frequency responses.</p><p>By choosing an appropriate sampling time that aligns with the system&rsquo;s dynamics, the collected data can adequately represent the system&rsquo;s behaviour without introducing aliasing or missing high-frequency components that might not be relevant or present in the system&rsquo;s response.</p><h2 id=2-deterministic-identification>2 Deterministic Identification
<a class=anchor href=#2-deterministic-identification>#</a></h2><p>It is seen that in Simulink, the system received two distinct types of inputs: sinusoidal and square signals, each with different parameter settings. It is stated that by observing the resultant outputs corresponding to these inputs, multiple methods may be employed to derive the transfer function. The procedure, as conveyed, was visually represented through a diagram showcased within Simulink, outlining the step-by-step process involved in this analysis.</p><p><img src=https://live.staticflickr.com/65535/53352831253_644505363b.jpg alt=m1312eso></p><h3 id=21-step-response-method>2.1. Step Response Method
<a class=anchor href=#21-step-response-method>#</a></h3><p>In the lab trials, data on input, output, and time were recorded. Various amplitudes of square waves were used to identify the step response with the least noise. The importance of obtaining high-quality data for analysis and system identification was emphasized, leading to the recording of multiple samples.</p><details><summary><strong>Sample 1:</strong> Square Input with Amplitude = 25, Frequency 0.5 vs System Output - (click to expand)</summary><div class=markdown-inner><img src=https://live.staticflickr.com/65535/53352831233_d8f6d8fdd0_b.jpg alt=m1312e241so></div></details><details><summary><strong>Sample 2:</strong> Square Input with Amplitude = 10, Frequency 0.5 vs System Output - (click to expand)</summary><div class=markdown-inner><img src=https://live.staticflickr.com/65535/53353058145_567da00851_b.jpg alt=m1312e1241so></div></details><details><summary><strong>Sample 2:</strong> Square Input with Amplitude = 7.5, Frequency 0.3 vs System Output - (click to expand)</summary><div class=markdown-inner><img src=https://live.staticflickr.com/65535/53353058160_6e6cfb8ddc_b.jpg alt=m13121e241so></div></details><p>In the plots, disturbances at the start and end are observed, originating from the initial placement and stopping of the Rasteirinho. The presence of overshoot indicates that it&rsquo;s not a first-order system, as evident from the plots.
Interestingly, in a linear system, signal amplitude typically doesn&rsquo;t affect settling time, which contrasts with the observations, implying non-linearity. However, there&rsquo;s a linear characteristic where response gain increases with input amplitude, suggesting a semblance of linearity. Despite its non-linear nature, the system exhibits behaviors aligning with the superposition principle, enabling its modeling as linear.</p><p>The <a href=https://de.mathworks.com/help/ident/>System Identification Toolbox</a> in MATLAB was utilized to estimate the system&rsquo;s order and the count of zeros. This step is crucial for signal pre-processing, providing insights into the system&rsquo;s order for subsequent analysis.</p><p><img src=https://live.staticflickr.com/65535/53353058155_db396dff8a_z.jpg alt=m13121e24251so></p><p>The upcoming equation describes the relationship between the input and output of your system, derived from the analysis performed using the <a href=https://de.mathworks.com/help/ident/>System Identification Toolbox</a>. It&rsquo;s a 4th-order model with 4 poles and 3 zeros.</p><link rel=stylesheet href=/katex/katex.min.css><script defer src=/katex/katex.min.js></script><script defer src=/katex/auto-render.min.js onload=renderMathInElement(document.body)></script><span>\[G_{\text{ident}}(s) = \frac{9.375s^3 + 448.9s^2 + 3793s + 6750}{17.03s^4 + 17.03s^3 + 435.1s^2 + 3263s + 7500}\]</span><h4 id=211-deconvolution-method>2.1.1. Deconvolution Method
<a class=anchor href=#211-deconvolution-method>#</a></h4><p>The deconvolution method is being employed to derive the impulse response by deconvoluting the convolution integral. The input and output data from the step function are utilized to compute the impulse response, which is subsequently compared with the impulse response obtained from the transfer function using the <a href=https://de.mathworks.com/help/ident/>System Identification Toolbox</a>.</p><p><img src=https://live.staticflickr.com/65535/53353070530_0cdb3fc4ed_z.jpg alt=213></p><p>Notably, while similarities are evident, discrepancies exist in the responses due to several reasons. The deconvolution method proves highly sensitive to measurement noise, encountering challenges with an ill-conditioned, <a href=https://en.wikipedia.org/wiki/Toeplitz_matrix>unsymmetrical Toeplitz matrix</a> &lsquo;u.&rsquo; Moreover, the impulse response, derived as the derivative of the step response, tends to amplify noise.</p><p>Following this comparison, the &lsquo;ir2dtf&rsquo; and &lsquo;d2c&rsquo; functions are employed to derive the step response of the system identified through deconvolution. This process involves resampling the deconvolution data and carefully selecting the most representative points from the transient response. The choice of a 4th-order system proves optimal for achieving favourable outcomes. The resulting step response is subsequently obtained for further analysis.</p><p><img src=https://live.staticflickr.com/65535/53352842998_f87cea2d5a_c.jpg alt=2212113></p><p>Yielding:</p><span>\[G_{\text{deterministicStep}}(s) = \frac{309.8s^3 + 7682s^2 + 4.842 \times 10^5s + 1.745 \times 10^6}{18.84s^4 + 801.3s^3 + 991.6s^2 + 1.868 \times 10^4s + 1.745 \times 10^6}\]</span><p>Subsequently, comparing the impulse responses of the different methods and assess their validity:</p><p><img src=https://live.staticflickr.com/65535/53353070540_078ba452c4_c.jpg alt=22121122113></p><p>Despite the discrepancies evident in the graphs, a notable convergence emerges. Primarily, the significant deviation at the initial peak possibly arises from the amplified noise during the deconvolution process. However, upon a closer examination of the remaining parameters, notable similarities become apparent. The graphs demonstrate congruent peak times and settling times, signifying stability across all observations.</p><h4 id=212-levy-method>2.1.2. Levy Method
<a class=anchor href=#212-levy-method>#</a></h4><p>The Levy Method, designed to minimize error between data and estimated model frequency responses, employs curve fitting in amplitude and phase within the numerical frequency domain. This method&rsquo;s utilization of Bode plots enables a comprehensive comparison of results as follows:</p><p><img src=https://live.staticflickr.com/65535/53352621011_d693246b00_c.jpg alt=2212112212113></p><p>Prior to applying the Levy function, a crucial step involved computing the Fourier transform of the deconvolution. This was achieved using a bespoke function that employs the discrete Fourier transform algorithm. This function determined the gain, phase, and associated frequencies from the acquired points, serving as inputs for the subsequent Levy function.</p><p>Upon examination, it became apparent that higher frequency values within the Fourier Transform failed to accurately represent the system dynamics. Despite attempts to represent the initial 10 points, not all points aligned on the phase diagram due to disparities. In the magnitude plot, discrepancies were also notable for higher frequencies. These discrepancies stem from the Rasteirinho&rsquo;s slower system response, where noise interference significantly impacts higher frequencies. Consequently, the initial few points of the Fourier Transform were selectively used to generate the Bode plot via the Levy method.</p><p>Following the execution of the Levy function, the presence of unstable poles within the transfer function needed rectification. This requirement arose from occasional instability in the estimated function, a common occurrence within the numerical nature of the Levy method — an aspect encountered during analysis.</p><p><img src=https://live.staticflickr.com/65535/53353070520_4f3d396b09_c.jpg alt=2212421112212113></p><p>The comparative plot above offers a glimpse into step responses acquired via distinct methodologies (Levy, Matlab Sim toolbox and decovolution), unveiling a remarkable resemblance in their behaviour. However, notable distinctions arise, particularly in the deconvolution method, which exhibits a pronounced overshoot peak. This discrepancy suggests a heightened susceptibility to noise interference within the deconvolution process. Consequently, the resulting transfer function obtained from these analyses is as follows:</p><span>\[G_{\text{LevyData1}}(s) = \frac{3085s^2 + 3.098 \times 10^5s + 5.176 \times 10^6}{s^3 + 123s^2 + 2864s + 6.932 \times 10^4}\]</span><p><img src=https://live.staticflickr.com/65535/53352948109_a2f9d5ab54_c.jpg alt=221242111221241113></p><h3 id=22-data-analysis-and-assessment>2.2. Data Analysis and Assessment
<a class=anchor href=#22-data-analysis-and-assessment>#</a></h3><p>The prior findings stemmed from the analysis of a singular transient response, selected from the numerous step inputs showcased previously. Considering multiple available plots and simulated square functions, it becomes imperative to validate the conclusions drawn from the chosen transient response against the entirety of the responses.</p><p>These initial results, derived from the initial experiment, will now undergo comparison with the other two initially collected data samples. This comparative analysis aims to ascertain the continued validity of our conclusions across the spectrum of responses gathered, ensuring the robustness and generalizability of our findings.</p><span>\[G_{\text{data2Deconv}}(s) = \frac{368.5s^3 + 412.6s^2 + 1.288 \times 10^5s + 4.188 \times 10^5}{s^4 + 23.09s^3 + 512.3s^2 + 6501s + 2.957 \times 10^4}\]
</span><span>\[G_{\text{data3Deconv}}(s) = \frac{161.6s^3 + 2236 + 1.804 \times 10^5s + 1.508 \times 10^5}{s^4 + 14.59s^3 + 723s^2 + 5760s + 6.186 \times 10^4}\]</span><p><img src=https://live.staticflickr.com/65535/53352948114_c8450a4b36_z.jpg alt=221242111221215141113></p><p>The comparison conducted via the Step Method using deconvolution and estimation via the <a href=https://de.mathworks.com/help/ident/>System Identification Toolbox</a> appears valid, despite a slight frequency offset observed in the step responses across different data samples. These discrepancies can be attributed to disturbances impacting the system dynamics, altering an array of variables in real-time. Consequently, achieving identical step responses from diverse data samples becomes entirely unattainable.</p><h2 id=3-stochastic-identification>3 Stochastic Identification
<a class=anchor href=#3-stochastic-identification>#</a></h2></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/roaked/roaked.github.io/commit/8c23bbdaba169f86b70a7c17c8956024ba67374e title='Last modified by roaked | November 24, 2023' target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>November 24, 2023</span></a></div><div><a class="flex align-center" href=https://github.com/roaked/roaked.github.io/edit/main/content/content/docs/2code/6is/_index.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Ricardo Chin</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#1-system-model>1 System Model</a><ul><li><a href=#11-rasteirinho>1.1. Rasteirinho</a></li><li><a href=#12-non-linearities>1.2. Non-linearities</a></li><li><a href=#13-sampling-time>1.3. Sampling Time</a></li></ul></li><li><a href=#2-deterministic-identification>2 Deterministic Identification</a><ul><li><a href=#21-step-response-method>2.1. Step Response Method</a></li><li><a href=#22-data-analysis-and-assessment>2.2. Data Analysis and Assessment</a></li></ul></li><li><a href=#3-stochastic-identification>3 Stochastic Identification</a></li></ul></nav></div></aside></main></body></html>